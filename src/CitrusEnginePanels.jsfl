var dom = fl.getDocumentDOM();var tl = dom.getTimeline();var library = dom.library;var fill = dom.getCustomFill();function manageLayer(nameLayer, color) {		if (tl.findLayerIndex(nameLayer) == undefined) {		layernum = tl.addNewLayer(nameLayer);		tl.layers[layernum].color = color;		tl.reorderLayer(layernum, 0);	}		tl.setSelectedLayers(tl.findLayerIndex(nameLayer)[0]);}function addHero(path, classname) {		if (!library.itemExists("Hero")) {			library.addNewItem("movie clip", "Hero");				manageLayer("Hero", '#0000FF');				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Hero")]);				if (classname == "") {			classname = "com.citrusengine.objects.platformer.Hero";		}				if (path != "") {			library.items[library.findItemIndex("Hero")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'"\n};';		} else {			library.items[library.findItemIndex("Hero")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";';		}				dom.enterEditMode("inPlace");		fill.color = '#0000FF';  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-30, top:-50, right:30, bottom:50}, 0, false, true);		dom.exitEditMode();	}}function addBaddy(path, classname, speed, startingDirection) {		if (!library.itemExists("Baddy")) {			library.addNewItem("movie clip", "Baddy");				manageLayer("Baddy", '#FF0000');				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Baddy")]);				if (classname == "") {			classname = "com.citrusengine.objects.platformer.Baddy";		}				if (path != "") {						if (startingDirection == "true") {				library.items[library.findItemIndex("Baddy")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'",\n\tspeed: "'+speed+'",\n\tstartingDirection: "left"\n};';			} else {				library.items[library.findItemIndex("Baddy")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'",\n\tspeed: "'+speed+'",\n\tstartingDirection: "right"\n};';			}					} else {						if (startingDirection == "true") {				library.items[library.findItemIndex("Baddy")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tspeed: "'+speed+'",\n\tstartingDirection: "left"\n};';			} else {				library.items[library.findItemIndex("Baddy")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tspeed: "'+speed+'",\n\tstartingDirection: "right"\n};';			}					}				dom.enterEditMode("inPlace");		fill.color = '#FF0000';  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-30, top:-50, right:30, bottom:50}, 0, false, true);		dom.exitEditMode();	}}function addCoin(path, classname) {		if (!library.itemExists("Coin")) {			library.addNewItem("movie clip", "Coin");				manageLayer("Coin", '#FFFF00');				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Coin")]);				if (classname == "") {			classname = "com.citrusengine.objects.platformer.Coin";		}				if (path != "") {			library.items[library.findItemIndex("Coin")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'"\n};';		} else {			library.items[library.findItemIndex("Coin")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";';		}				dom.enterEditMode("inPlace");		fill.color = '#FFFF00';  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewOval({left:-25, top:-25, right:25, bottom:25}, false, true);		dom.exitEditMode();	}}function addPlatform(path, classname, type) {		if (!library.itemExists(type)) {			library.addNewItem("movie clip", type);				manageLayer(type, (type == "Platform") ? '#666666' : '#999999');				dom.addItem({x:0,y:0}, library.items[library.findItemIndex(type)]);				if (classname == "") {			classname = "com.citrusengine.objects.platformer.Platform";		}				if (path != "") {						if (type == "Platform") {				library.items[library.findItemIndex(type)].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'"\n};';			} else {				library.items[library.findItemIndex(type)].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'",\n\toneWay: true\n};';			}					} else {						if (type == "Platform") {				library.items[library.findItemIndex(type)].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";';			} else {				library.items[library.findItemIndex(type)].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\toneWay: true\n};';			}		}				dom.enterEditMode("inPlace");		fill.color = (type == "Platform") ? '#666666' : '#999999';		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-250, top:-10, right:250, bottom:10}, 0, false, true);		dom.exitEditMode();	}}function addMovingPlatform(path, classname, waitForPassenger, oneWay) {		if (!library.itemExists("MovingPlatform")) {			library.addNewItem("movie clip", "MovingPlatform");				manageLayer("MovingPlatform", '#CCCCCC');				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("MovingPlatform")]);				if (classname == "") {			classname = "com.citrusengine.objects.platformer.MovingPlatform";		}				if (path != "") {						if (oneWay == "true" && waitForPassenger == "true") {				library.items[library.findItemIndex("MovingPlatform")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'",\n\toneWay: true,\n\twaitForPassenger: true\n};';			} else if (oneWay == "true") {				library.items[library.findItemIndex("MovingPlatform")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'",\n\toneWay: true\n};';			} else if (waitForPassenger == "true") {				library.items[library.findItemIndex("MovingPlatform")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'",\n\twaitForPassenger: true\n};';			} else {				library.items[library.findItemIndex("MovingPlatform")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'"\n};';			}					} else {						if (oneWay == "true" && waitForPassenger == "true") {				library.items[library.findItemIndex("MovingPlatform")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\toneWay: true,\n\twaitForPassenger: true\n};';			} else if (oneWay == "true") {				library.items[library.findItemIndex("MovingPlatform")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\toneWay: true\n};';			} else if (waitForPassenger == "true") {				library.items[library.findItemIndex("MovingPlatform")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\twaitForPassenger: true\n};';			} else {				library.items[library.findItemIndex("MovingPlatform")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";';			}		}				dom.enterEditMode("inPlace");		fill.color = '#CCCCCC';  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-25, top:-15, right:25, bottom:15}, 0, false, true);		dom.exitEditMode();	}}function addSensor(path, classname) {		if (!library.itemExists("Sensor")) {			library.addNewItem("movie clip", "Sensor");				manageLayer("Sensor", '#00FF00');				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Sensor")]);				if (classname == "") {			classname = "com.citrusengine.objects.platformer.Sensor";		}				if (path != "") {			library.items[library.findItemIndex("Sensor")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'"\n};';		} else {			library.items[library.findItemIndex("Sensor")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";';		}				dom.enterEditMode("inPlace");		fill.color = '#00FF00';  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-25, top:-25, right:25, bottom:25}, 0, false, true);		dom.exitEditMode();	}}function addPhysicObject(path, classname) {		if (!library.itemExists("PhysicObject")) {			library.addNewItem("movie clip", "PhysicObject");				manageLayer("PhysicObject", '#993300');				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("PhysicObject")]);				if (classname == "") {			classname = "com.citrusengine.objects.PhysicsObject";		}				if (path != "") {			library.items[library.findItemIndex("PhysicObject")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'"\n};';		} else {			library.items[library.findItemIndex("PhysicObject")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";';		}				dom.enterEditMode("inPlace");		fill.color = '#993300';  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-25, top:-25, right:25, bottom:25}, 0, false, true);		dom.exitEditMode();	}}function addBackground(path, classname) {		if (!library.itemExists("Background")) {			library.addNewItem("movie clip", "Background");				manageLayer("Background", "0x000000");				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Background")]);				if (classname == "") {			classname = "com.citrusengine.objects.CitrusSprite";		}		if (path != "") {			library.items[library.findItemIndex("Background")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'"\n};';		} else {			library.items[library.findItemIndex("Background")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";';		}				dom.enterEditMode("inPlace");		dom.setFillColor(0x000000); 		dom.addNewText({left:0, top:0, right:100, bottom:100}, "Background"); 		dom.exitEditMode();	}}function addCloud(path, classname, parallax) {		if (!library.itemExists("Cloud")) {			library.addNewItem("movie clip", "Cloud");				manageLayer("Cloud", '#0099CC');				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Cloud")]);				if (classname == "") {			classname = "com.citrusengine.objects.CitrusSprite";		}		if (path != "") {						if (parallax == "") {				library.items[library.findItemIndex("Cloud")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'"\n};';			} else {				library.items[library.findItemIndex("Cloud")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tview: "'+path+'",\n\tparallax: "'+parallax+'"\n};';			}					} else {						if (parallax == "") {				library.items[library.findItemIndex("Cloud")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";';			} else {				library.items[library.findItemIndex("Cloud")].timeline.layers[0].frames[0].actionScript = 'var className = "'+classname+'";\nvar params = {\n\tparallax: "'+parallax+'"\n};';			}		}				dom.enterEditMode("inPlace");		fill.color = '#0099CC';  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-25, top:-25, right:25, bottom:25}, 0, false, true); 		dom.exitEditMode();	}}function createHero() {		var layernum = tl.getSelectedLayers();	tl.insertKeyframe(10);	tl.insertKeyframe(20);	tl.insertKeyframe(30);	tl.insertKeyframe(40);	tl.insertKeyframe(50);		layernum = tl.addNewLayer('Labels');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);	tl.insertKeyframe(20);	tl.insertKeyframe(30);	tl.insertKeyframe(40);	tl.insertKeyframe(50);		tl.layers[0].frames[0].name = 'default';	tl.layers[0].frames[10].name = 'idle';	tl.layers[0].frames[20].name = 'walk';	tl.layers[0].frames[30].name = 'jump';	tl.layers[0].frames[40].name = 'duck';	tl.layers[0].frames[50].name = 'hurt';		tl.layers[0].locked = true;		layernum = tl.addNewLayer('Actions');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);	tl.insertKeyframe(20);	tl.insertKeyframe(30);	tl.insertKeyframe(40);	tl.insertKeyframe(50);		tl.layers[0].locked = true;		tl.insertFrames(9);}function createBaddy() {		var layernum = tl.getSelectedLayers();		tl.insertKeyframe(10);		layernum = tl.addNewLayer('Labels');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].frames[0].name = 'walk';	tl.layers[0].frames[10].name = 'die';		tl.layers[0].locked = true;		layernum = tl.addNewLayer('Actions');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].locked = true;		tl.insertFrames(9);}function createMissile() {		var layernum = tl.getSelectedLayers();		tl.insertKeyframe(10);		layernum = tl.addNewLayer('Labels');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].frames[0].name = 'normal';	tl.layers[0].frames[10].name = 'exploded';		tl.layers[0].locked = true;		layernum = tl.addNewLayer('Actions');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].locked = true;		tl.insertFrames(9);}